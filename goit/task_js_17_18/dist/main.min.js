$(document).ready(function(){testing.saveQuestions(),testing.loadQuestions(),$(function(){for(var a=$("#test").html(),b=0;b<testing.questions.length;b++){var c=tmpl(a,testing.questions[b]);$(".wrapper").append(c)}});var a=document.getElementById("myModal"),b=document.getElementById("checkResult"),c=document.getElementsByClassName("close")[0];b.onclick=function(){var b=testing.getResult(),c=$("#resultTmpl").html(),d=tmpl(c,b);$(".modal-body").append(d),a.style.display="block"},c.onclick=function(){a.style.display="none",testing.removeElResults()},window.onclick=function(b){b.target==a&&(a.style.display="none",testing.removeElResults())}});var testing={questions:[{title:"Вопрос №1",name:"question1",answers:[{content:"Вариант ответа №1",answer:!1},{content:"Вариант ответа №2 (true)",answer:!0},{content:"Вариант ответа №3",answer:!1}]},{title:"Вопрос №2",name:"question2",answers:[{content:"Вариант ответа №1 (true)",answer:!0},{content:"Вариант ответа №2",answer:!1},{content:"Вариант ответа №3",answer:!1}]},{title:"Вопрос №3",name:"question3",answers:[{content:"Вариант ответа №1",answer:!1},{content:"Вариант ответа №2",answer:!1},{content:"Вариант ответа №3 (true)",answer:!0}]}],saveQuestions:function(){var a=JSON.stringify(this.questions);localStorage.setItem("testingQuestins",a)},loadQuestions:function(){var a=localStorage.testingQuestins;this.questions=JSON.parse(a),console.log("this.questions",this.questions)},getResult:function(){for(var a=$(".question"),b={answers:[]},c=0;c<this.questions.length;c++){for(var d={titleQuestion:this.questions[c].title,answerTrue:!1},a=$("input[name="+this.questions[c].name+"]"),e=0;e<a.length;e++)if(a[e].checked&&"true"==a[e].value===a[e].checked){d.answerTrue=!0;break}b.answers.push(d)}return b},removeElResults:function(){for(var a=$(".answer"),b=0;b<a.length;b++)a[b].remove()}};!function(){var a={};this.tmpl=function b(c,d){var e=/\W/.test(c)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+c.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):a[c]=a[c]||b(document.getElementById(c).innerHTML);return d?e(d):e}}();